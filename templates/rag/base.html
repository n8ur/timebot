<!-- /usr/local/lib/timebot/templates/rag/base.html -->
<!-- Copyright 2025 John Ackermann
     Licensed under the MIT License. See LICENSE.TXT for details. -->

<!--
Copyright 2025 John Ackermann
Licensed under the MIT License. See LICENSE.TXT for details.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      timebot-search.febo.com: Search the time-nuts Mailing List Archives
    </title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link id="theme-css" rel="stylesheet" href="/static/css/rag/dark.css" />
    <script>
      function toggleTheme() {
        const themeLink = document.getElementById("theme-css");
        const currentTheme = themeLink
          .getAttribute("href")
          .includes("dark")
          ? "dark"
          : "light";
        const newTheme = currentTheme === "dark" ? "light" : "dark";

        themeLink.setAttribute("href", `/static/css/rag/${newTheme}.css`);
        localStorage.setItem("theme", newTheme);

        // Update button text
        const themeButton = document.getElementById("theme-toggle");
        themeButton.textContent = `Switch to ${currentTheme} theme`;
      }

      // Set theme based on localStorage on page load
      document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "dark";
        document
          .getElementById("theme-css")
          .setAttribute("href", `/static/css/rag/${savedTheme}.css`);

        const themeButton = document.getElementById("theme-toggle");
        const oppositeTheme = savedTheme === "dark" ? "light" : "dark";
        themeButton.textContent = `Switch to ${oppositeTheme} theme`;
      });
    </script>
    <style>
      .header-row {
        align-items: center;
        margin: 1.5rem 0;
        width: 100%;
        overflow: auto; /* Added to contain floats */
      }

      .header-title {
        margin: 0;
        padding: 0;
        float: left; /* Float title to the left */
      }

      .header-buttons {
        float: right; /* Float buttons to the right */
      }

      .header-buttons .btn {
        margin-left: 0px; /* Reduced margin */
        margin-top: 5px;
        padding: 0.25rem 0.5rem; /* Reduced padding */
        font-size: 0.8rem; /* Reduced font size */
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header-row">
        <h1 class="header-title">timebot-search.febo.com</h1>
        <div class="header-buttons">
          <a href="/info" class="btn btn-outline-primary">Info and Sources</a>
          <button
            id="theme-toggle"
            class="btn btn-outline-secondary"
            onclick="toggleTheme()"
          >
            Switch to light theme
          </button>
        </div>
      </div>

      {% block content %}{% endblock %}
    </div>

    <P>
      <P>
        <CENTER>
          <I>Service provided by John Ackermann -- jra at febo dot com</I>
        </CENTER>
  </body>
</html>

